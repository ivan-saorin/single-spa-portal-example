{"version":3,"sources":["webpack:///grapnel.min.js","webpack:///webpack/bootstrap 9412807df01a4c482d8a?ca68","webpack:///./es/index.js?958b","webpack:///./es/grapnel.js?36cf","webpack:///./~/events/events.js?7c71","webpack:///./es/route.js?2615","webpack:///./es/stack.js?fa74"],"names":["Grapnel","modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","default","Route","MiddlewareStack","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_typeof","Symbol","iterator","obj","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","events_1","route_1","stack_1","_events_1$EventEmitte","options","this","_this","getPrototypeOf","_maxListeners","Infinity","assign","defaults","addEventListener","emit","e","state","previousState","routePath","middleware","Array","slice","arguments","handler","fullPath","root","route","routeHandler","req","parse","path","match","extra","params","regex","stack","enqueue","concat","runCallback","parent","propagateEvent","callback","bind","eventName","pushState","isWindow","on","add","apply","context","_this2","_len","args","_key","subMiddleware","prefix","substr","pattern","pathname","undefined","frag","pageName","title","history","location","_frag","hash","hashBang","replace","split","_pathname","opts","routes","name","EventEmitter","window","_events","isFunction","arg","isNumber","isObject","isUndefined","defaultMaxListeners","setMaxListeners","n","isNaN","type","er","len","listeners","error","Error","err","addListener","listener","newListener","push","warned","console","trace","once","g","removeListener","fired","list","position","splice","removeAllListeners","ret","listenerCount","evlistener","emitter","keys","strict","sensitive","matches","forEach","decodeURIComponent","RegExp","join","newPath","_","slash","format","capture","optional","router","extendObj","callbackRan","global","hasParentEvents","timeStamp","Date","now","next","atIndex","handlers","isArray","reverse","shift"],"mappings":"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","file":"grapnel.min.js","sourcesContent":["var Grapnel =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Grapnel = __webpack_require__(1).default;\n\tvar Route = __webpack_require__(3).default;\n\tvar MiddlewareStack = __webpack_require__(4).default;\n\t\n\tGrapnel.MiddlewareStack = MiddlewareStack;\n\tGrapnel.Route = Route;\n\texports = module.exports = Grapnel;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/****\n\t * Grapnel\n\t * https://github.com/baseprime/grapnel\n\t *\n\t * @author Greg Sabia Tucker <greg@narrowlabs.com>\n\t * @link http://basepri.me\n\t *\n\t * Released under MIT License. See LICENSE.txt or http://opensource.org/licenses/MIT\n\t */\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar events_1 = __webpack_require__(2);\n\tvar route_1 = __webpack_require__(3);\n\tvar stack_1 = __webpack_require__(4);\n\t\n\tvar Grapnel = function (_events_1$EventEmitte) {\n\t    _inherits(Grapnel, _events_1$EventEmitte);\n\t\n\t    function Grapnel(options) {\n\t        _classCallCheck(this, Grapnel);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Grapnel.__proto__ || Object.getPrototypeOf(Grapnel)).call(this));\n\t\n\t        _this._maxListeners = Infinity;\n\t        _this.options = {};\n\t        _this.options = Object.assign({}, Grapnel.defaults, options);\n\t        if ('object' === _typeof(_this.options.target) && 'function' === typeof _this.options.target.addEventListener) {\n\t            _this.options.target.addEventListener('hashchange', function () {\n\t                _this.emit('hashchange');\n\t            });\n\t            _this.options.target.addEventListener('popstate', function (e) {\n\t                // Make sure popstate doesn't run on init -- this is a common issue with Safari and old versions of Chrome\n\t                if (_this.state && _this.state.previousState === null) return false;\n\t                _this.emit('navigate');\n\t            });\n\t        }\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Grapnel, [{\n\t        key: \"add\",\n\t        value: function add(routePath) {\n\t            var middleware = Array.prototype.slice.call(arguments, 1, -1);\n\t            var handler = Array.prototype.slice.call(arguments, -1)[0];\n\t            var fullPath = this.options.root + routePath;\n\t            var route = new route_1.default(fullPath);\n\t            var routeHandler = function () {\n\t                // Build request parameters\n\t                var req = route.parse(this.path());\n\t                // Check if matches are found\n\t                if (req.match) {\n\t                    // Match found\n\t                    var extra = {\n\t                        req: req,\n\t                        route: fullPath,\n\t                        params: req.params,\n\t                        regex: req.match\n\t                    };\n\t                    // Create call stack -- add middleware first, then handler\n\t                    var stack = new stack_1.default(this, extra).enqueue(middleware.concat(handler));\n\t                    // emit main event\n\t                    this.emit('match', stack, req);\n\t                    // Continue?\n\t                    if (!stack.runCallback) return this;\n\t                    // Previous state becomes current state\n\t                    stack.previousState = this.state;\n\t                    // Save new state\n\t                    this.state = stack;\n\t                    // Prevent this handler from being called if parent handler in stack has instructed not to propagate any more events\n\t                    if (stack.parent() && stack.parent().propagateEvent === false) {\n\t                        stack.propagateEvent = false;\n\t                        return this;\n\t                    }\n\t                    // Call handler\n\t                    stack.callback();\n\t                }\n\t                // Returns self\n\t                return this;\n\t            }.bind(this);\n\t            // Event name\n\t            var eventName = !this.options.pushState && this.options.isWindow ? 'hashchange' : 'navigate';\n\t            // Invoke when route is defined, and once again when app navigates\n\t            return routeHandler().on(eventName, routeHandler);\n\t        }\n\t    }, {\n\t        key: \"get\",\n\t        value: function get() {\n\t            return this.add.apply(this, arguments);\n\t        }\n\t    }, {\n\t        key: \"trigger\",\n\t        value: function trigger() {\n\t            return this.emit.apply(this, arguments);\n\t        }\n\t    }, {\n\t        key: \"bind\",\n\t        value: function bind() {\n\t            // Backwards compatibility with older versions which mimed jQuery's bind()\n\t            return this.on.apply(this, arguments);\n\t        }\n\t    }, {\n\t        key: \"context\",\n\t        value: function context(_context) {\n\t            var _this2 = this;\n\t\n\t            var middleware = Array.prototype.slice.call(arguments, 1);\n\t            return function () {\n\t                for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t                    args[_key] = arguments[_key];\n\t                }\n\t\n\t                var value = args[0];\n\t                var subMiddleware = args.length > 2 ? Array.prototype.slice.call(args, 1, -1) : [];\n\t                var handler = Array.prototype.slice.call(args, -1)[0];\n\t                var prefix = _context.slice(-1) !== '/' && value !== '/' && value !== '' ? _context + '/' : _context;\n\t                var path = value.substr(0, 1) !== '/' ? value : value.substr(1);\n\t                var pattern = prefix + path;\n\t                return _this2.add.apply(_this2, [pattern].concat(middleware).concat(subMiddleware).concat([handler]));\n\t            };\n\t        }\n\t    }, {\n\t        key: \"navigate\",\n\t        value: function navigate(path, options) {\n\t            this.path(path, options).emit('navigate');\n\t            return this;\n\t        }\n\t    }, {\n\t        key: \"path\",\n\t        value: function path(pathname) {\n\t            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t            var root = this.options.target;\n\t            var frag = undefined;\n\t            var pageName = options.title;\n\t            if ('string' === typeof pathname) {\n\t                // Set path\n\t                if (this.options.pushState && 'function' === typeof root.history.pushState) {\n\t                    var state = options.state || root.history.state;\n\t                    frag = this.options.root ? this.options.root + pathname : pathname;\n\t                    root.history.pushState(state, pageName, frag);\n\t                } else if (root.location) {\n\t                    var _frag = this.options.root ? this.options.root + pathname : pathname;\n\t                    root.location.hash = (this.options.hashBang ? '!' : '') + _frag;\n\t                } else {\n\t                    root.pathname = pathname || '';\n\t                }\n\t                return this;\n\t            } else if ('undefined' === typeof pathname) {\n\t                // Get path\n\t                if (this.options.pushState) {\n\t                    frag = root.location.pathname.replace(this.options.root, '');\n\t                } else if (!this.options.pushState && root.location) {\n\t                    frag = root.location.hash ? root.location.hash.split(this.options.hashBang ? '#!' : '#')[1] : '';\n\t                } else {\n\t                    frag = root._pathname || '';\n\t                }\n\t                return frag;\n\t            } else if (pathname === false) {\n\t                // Clear path\n\t                if (this.options.pushState && 'function' === typeof root.history.pushState) {\n\t                    var _state = options.state || root.history.state;\n\t                    root.history.pushState(_state, pageName, this.options.root || '/');\n\t                } else if (root.location) {\n\t                    root.location.hash = this.options.hashBang ? '!' : '';\n\t                }\n\t                return this;\n\t            }\n\t        }\n\t    }], [{\n\t        key: \"listen\",\n\t        value: function listen() {\n\t            var opts = void 0;\n\t            var routes = void 0;\n\t            if ((arguments.length <= 0 ? undefined : arguments[0]) && (arguments.length <= 1 ? undefined : arguments[1])) {\n\t                opts = arguments.length <= 0 ? undefined : arguments[0];\n\t                routes = arguments.length <= 1 ? undefined : arguments[1];\n\t            } else {\n\t                routes = arguments.length <= 0 ? undefined : arguments[0];\n\t            }\n\t            // Return a new Grapnel instance\n\t            return function () {\n\t                // TODO: Accept multi-level routes\n\t                for (var key in routes) {\n\t                    this.add.call(this, key, routes[key]);\n\t                }\n\t                return this;\n\t            }.call(new Grapnel(opts || {}));\n\t        }\n\t    }, {\n\t        key: \"toString\",\n\t        value: function toString() {\n\t            return this.name;\n\t        }\n\t    }]);\n\t\n\t    return Grapnel;\n\t}(events_1.EventEmitter);\n\t\n\tGrapnel.defaults = {\n\t    root: '',\n\t    target: 'object' === (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) ? window : {},\n\t    isWindow: 'object' === (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)),\n\t    pushState: false,\n\t    hashBang: false\n\t};\n\texports.default = Grapnel;\n\t//# sourceMappingURL=grapnel.js.map\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\t// Copyright Joyent, Inc. and other Node contributors.\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a\n\t// copy of this software and associated documentation files (the\n\t// \"Software\"), to deal in the Software without restriction, including\n\t// without limitation the rights to use, copy, modify, merge, publish,\n\t// distribute, sublicense, and/or sell copies of the Software, and to permit\n\t// persons to whom the Software is furnished to do so, subject to the\n\t// following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included\n\t// in all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\t// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n\t// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n\t// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n\t// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t\n\tfunction EventEmitter() {\n\t  this._events = this._events || {};\n\t  this._maxListeners = this._maxListeners || undefined;\n\t}\n\tmodule.exports = EventEmitter;\n\t\n\t// Backwards-compat with node 0.10.x\n\tEventEmitter.EventEmitter = EventEmitter;\n\t\n\tEventEmitter.prototype._events = undefined;\n\tEventEmitter.prototype._maxListeners = undefined;\n\t\n\t// By default EventEmitters will print a warning if more than 10 listeners are\n\t// added to it. This is a useful default which helps finding memory leaks.\n\tEventEmitter.defaultMaxListeners = 10;\n\t\n\t// Obviously not all Emitters should be limited to 10. This function allows\n\t// that to be increased. Set to zero for unlimited.\n\tEventEmitter.prototype.setMaxListeners = function (n) {\n\t  if (!isNumber(n) || n < 0 || isNaN(n)) throw TypeError('n must be a positive number');\n\t  this._maxListeners = n;\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.emit = function (type) {\n\t  var er, handler, len, args, i, listeners;\n\t\n\t  if (!this._events) this._events = {};\n\t\n\t  // If there is no 'error' event listener then throw.\n\t  if (type === 'error') {\n\t    if (!this._events.error || isObject(this._events.error) && !this._events.error.length) {\n\t      er = arguments[1];\n\t      if (er instanceof Error) {\n\t        throw er; // Unhandled 'error' event\n\t      } else {\n\t        // At least give some kind of context to the user\n\t        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n\t        err.context = er;\n\t        throw err;\n\t      }\n\t    }\n\t  }\n\t\n\t  handler = this._events[type];\n\t\n\t  if (isUndefined(handler)) return false;\n\t\n\t  if (isFunction(handler)) {\n\t    switch (arguments.length) {\n\t      // fast cases\n\t      case 1:\n\t        handler.call(this);\n\t        break;\n\t      case 2:\n\t        handler.call(this, arguments[1]);\n\t        break;\n\t      case 3:\n\t        handler.call(this, arguments[1], arguments[2]);\n\t        break;\n\t      // slower\n\t      default:\n\t        args = Array.prototype.slice.call(arguments, 1);\n\t        handler.apply(this, args);\n\t    }\n\t  } else if (isObject(handler)) {\n\t    args = Array.prototype.slice.call(arguments, 1);\n\t    listeners = handler.slice();\n\t    len = listeners.length;\n\t    for (i = 0; i < len; i++) {\n\t      listeners[i].apply(this, args);\n\t    }\n\t  }\n\t\n\t  return true;\n\t};\n\t\n\tEventEmitter.prototype.addListener = function (type, listener) {\n\t  var m;\n\t\n\t  if (!isFunction(listener)) throw TypeError('listener must be a function');\n\t\n\t  if (!this._events) this._events = {};\n\t\n\t  // To avoid recursion in the case that type === \"newListener\"! Before\n\t  // adding it to the listeners, first emit \"newListener\".\n\t  if (this._events.newListener) this.emit('newListener', type, isFunction(listener.listener) ? listener.listener : listener);\n\t\n\t  if (!this._events[type])\n\t    // Optimize the case of one listener. Don't need the extra array object.\n\t    this._events[type] = listener;else if (isObject(this._events[type]))\n\t    // If we've already got an array, just append.\n\t    this._events[type].push(listener);else\n\t    // Adding the second element, need to change to array.\n\t    this._events[type] = [this._events[type], listener];\n\t\n\t  // Check for listener leak\n\t  if (isObject(this._events[type]) && !this._events[type].warned) {\n\t    if (!isUndefined(this._maxListeners)) {\n\t      m = this._maxListeners;\n\t    } else {\n\t      m = EventEmitter.defaultMaxListeners;\n\t    }\n\t\n\t    if (m && m > 0 && this._events[type].length > m) {\n\t      this._events[type].warned = true;\n\t      console.error('(node) warning: possible EventEmitter memory ' + 'leak detected. %d listeners added. ' + 'Use emitter.setMaxListeners() to increase limit.', this._events[type].length);\n\t      if (typeof console.trace === 'function') {\n\t        // not supported in IE 10\n\t        console.trace();\n\t      }\n\t    }\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\t\n\tEventEmitter.prototype.once = function (type, listener) {\n\t  if (!isFunction(listener)) throw TypeError('listener must be a function');\n\t\n\t  var fired = false;\n\t\n\t  function g() {\n\t    this.removeListener(type, g);\n\t\n\t    if (!fired) {\n\t      fired = true;\n\t      listener.apply(this, arguments);\n\t    }\n\t  }\n\t\n\t  g.listener = listener;\n\t  this.on(type, g);\n\t\n\t  return this;\n\t};\n\t\n\t// emits a 'removeListener' event iff the listener was removed\n\tEventEmitter.prototype.removeListener = function (type, listener) {\n\t  var list, position, length, i;\n\t\n\t  if (!isFunction(listener)) throw TypeError('listener must be a function');\n\t\n\t  if (!this._events || !this._events[type]) return this;\n\t\n\t  list = this._events[type];\n\t  length = list.length;\n\t  position = -1;\n\t\n\t  if (list === listener || isFunction(list.listener) && list.listener === listener) {\n\t    delete this._events[type];\n\t    if (this._events.removeListener) this.emit('removeListener', type, listener);\n\t  } else if (isObject(list)) {\n\t    for (i = length; i-- > 0;) {\n\t      if (list[i] === listener || list[i].listener && list[i].listener === listener) {\n\t        position = i;\n\t        break;\n\t      }\n\t    }\n\t\n\t    if (position < 0) return this;\n\t\n\t    if (list.length === 1) {\n\t      list.length = 0;\n\t      delete this._events[type];\n\t    } else {\n\t      list.splice(position, 1);\n\t    }\n\t\n\t    if (this._events.removeListener) this.emit('removeListener', type, listener);\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.removeAllListeners = function (type) {\n\t  var key, listeners;\n\t\n\t  if (!this._events) return this;\n\t\n\t  // not listening for removeListener, no need to emit\n\t  if (!this._events.removeListener) {\n\t    if (arguments.length === 0) this._events = {};else if (this._events[type]) delete this._events[type];\n\t    return this;\n\t  }\n\t\n\t  // emit removeListener for all listeners on all events\n\t  if (arguments.length === 0) {\n\t    for (key in this._events) {\n\t      if (key === 'removeListener') continue;\n\t      this.removeAllListeners(key);\n\t    }\n\t    this.removeAllListeners('removeListener');\n\t    this._events = {};\n\t    return this;\n\t  }\n\t\n\t  listeners = this._events[type];\n\t\n\t  if (isFunction(listeners)) {\n\t    this.removeListener(type, listeners);\n\t  } else if (listeners) {\n\t    // LIFO order\n\t    while (listeners.length) {\n\t      this.removeListener(type, listeners[listeners.length - 1]);\n\t    }\n\t  }\n\t  delete this._events[type];\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.listeners = function (type) {\n\t  var ret;\n\t  if (!this._events || !this._events[type]) ret = [];else if (isFunction(this._events[type])) ret = [this._events[type]];else ret = this._events[type].slice();\n\t  return ret;\n\t};\n\t\n\tEventEmitter.prototype.listenerCount = function (type) {\n\t  if (this._events) {\n\t    var evlistener = this._events[type];\n\t\n\t    if (isFunction(evlistener)) return 1;else if (evlistener) return evlistener.length;\n\t  }\n\t  return 0;\n\t};\n\t\n\tEventEmitter.listenerCount = function (emitter, type) {\n\t  return emitter.listenerCount(type);\n\t};\n\t\n\tfunction isFunction(arg) {\n\t  return typeof arg === 'function';\n\t}\n\t\n\tfunction isNumber(arg) {\n\t  return typeof arg === 'number';\n\t}\n\t\n\tfunction isObject(arg) {\n\t  return (typeof arg === 'undefined' ? 'undefined' : _typeof(arg)) === 'object' && arg !== null;\n\t}\n\t\n\tfunction isUndefined(arg) {\n\t  return arg === void 0;\n\t}\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\t\n\tvar Route = function () {\n\t    function Route(pathname) {\n\t        _classCallCheck(this, Route);\n\t\n\t        this.keys = [];\n\t        this.strict = false;\n\t        this.sensitive = false;\n\t        this.path = pathname;\n\t        this.regex = this.create();\n\t    }\n\t\n\t    _createClass(Route, [{\n\t        key: \"parse\",\n\t        value: function parse(pathname) {\n\t            var _this = this;\n\t\n\t            var match = pathname.match(this.regex);\n\t            var req = {\n\t                match: match,\n\t                params: {},\n\t                keys: this.keys,\n\t                matches: (match || []).slice(1)\n\t            };\n\t            // Build parameters\n\t            req.matches.forEach(function (value, i) {\n\t                var key = _this.keys[i] && _this.keys[i].name ? _this.keys[i].name : i;\n\t                // Parameter key will be its key or the iteration index. This is useful if a wildcard (*) is matched\n\t                req.params[key] = value ? decodeURIComponent(value) : undefined;\n\t            });\n\t            return req;\n\t        }\n\t    }, {\n\t        key: \"create\",\n\t        value: function create() {\n\t            var _this2 = this;\n\t\n\t            if (this.path instanceof RegExp) return this.path;\n\t            if (this.path instanceof Array) this.path = '(' + this.path.join('|') + ')';\n\t            // Build route RegExp\n\t            var newPath = this.path.concat(this.strict ? '' : '/?').replace(/\\/\\(/g, '(?:/').replace(/\\+/g, '__plus__').replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?/g, function (_, slash, format, key, capture, optional) {\n\t                _this2.keys.push({\n\t                    name: key,\n\t                    optional: !!optional\n\t                });\n\t                slash = slash || '';\n\t                return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || format && '([^/.]+?)' || '([^/]+?)') + ')' + (optional || '');\n\t            }).replace(/([\\/.])/g, '\\\\$1').replace(/__plus__/g, '(.+)').replace(/\\*/g, '(.*)');\n\t            return new RegExp('^' + newPath + '$', this.sensitive ? '' : 'i');\n\t        }\n\t    }]);\n\t\n\t    return Route;\n\t}();\n\t\n\texports.default = Route;\n\t//# sourceMappingURL=route.js.map\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\t\n\tvar MiddlewareStack = function () {\n\t    function MiddlewareStack(router, extendObj) {\n\t        _classCallCheck(this, MiddlewareStack);\n\t\n\t        this.runCallback = true;\n\t        this.callbackRan = true;\n\t        this.propagateEvent = true;\n\t        this.stack = MiddlewareStack.global.slice(0);\n\t        this.router = router;\n\t        this.value = router.path();\n\t        Object.assign(this, extendObj);\n\t        return this;\n\t    }\n\t\n\t    _createClass(MiddlewareStack, [{\n\t        key: \"preventDefault\",\n\t        value: function preventDefault() {\n\t            this.runCallback = false;\n\t        }\n\t    }, {\n\t        key: \"stopPropagation\",\n\t        value: function stopPropagation() {\n\t            this.propagateEvent = false;\n\t        }\n\t    }, {\n\t        key: \"parent\",\n\t        value: function parent() {\n\t            var hasParentEvents = !!(this.previousState && this.previousState.value && this.previousState.value == this.value);\n\t            return hasParentEvents ? this.previousState : false;\n\t        }\n\t    }, {\n\t        key: \"callback\",\n\t        value: function callback() {\n\t            this.callbackRan = true;\n\t            this.timeStamp = Date.now();\n\t            this.next();\n\t        }\n\t    }, {\n\t        key: \"enqueue\",\n\t        value: function enqueue(handler, atIndex) {\n\t            var handlers = !Array.isArray(handler) ? [handler] : atIndex < handler.length ? handler.reverse() : handler;\n\t            while (handlers.length) {\n\t                this.stack.splice(atIndex || this.stack.length + 1, 0, handlers.shift());\n\t            }\n\t            return this;\n\t        }\n\t    }, {\n\t        key: \"next\",\n\t        value: function next() {\n\t            var _this = this;\n\t\n\t            return this.stack.shift().call(this.router, this.req, this, function () {\n\t                return _this.next();\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return MiddlewareStack;\n\t}();\n\t\n\tMiddlewareStack.global = [];\n\texports.default = MiddlewareStack;\n\t//# sourceMappingURL=stack.js.map\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// grapnel.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9412807df01a4c482d8a","const Grapnel = require('./grapnel').default\nconst Route = require('./route').default\nconst MiddlewareStack = require('./stack').default\n\nGrapnel.MiddlewareStack = MiddlewareStack;\nGrapnel.Route = Route;\nexports = module.exports = Grapnel;\n\n\n\n// WEBPACK FOOTER //\n// ./es/index.js","\"use strict\";\n/****\n * Grapnel\n * https://github.com/baseprime/grapnel\n *\n * @author Greg Sabia Tucker <greg@narrowlabs.com>\n * @link http://basepri.me\n *\n * Released under MIT License. See LICENSE.txt or http://opensource.org/licenses/MIT\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst events_1 = require(\"events\");\nconst route_1 = require(\"./route\");\nconst stack_1 = require(\"./stack\");\nclass Grapnel extends events_1.EventEmitter {\n    constructor(options) {\n        super();\n        this._maxListeners = Infinity;\n        this.options = {};\n        this.options = Object.assign({}, Grapnel.defaults, options);\n        if ('object' === typeof this.options.target && 'function' === typeof this.options.target.addEventListener) {\n            this.options.target.addEventListener('hashchange', () => {\n                this.emit('hashchange');\n            });\n            this.options.target.addEventListener('popstate', (e) => {\n                // Make sure popstate doesn't run on init -- this is a common issue with Safari and old versions of Chrome\n                if (this.state && this.state.previousState === null)\n                    return false;\n                this.emit('navigate');\n            });\n        }\n    }\n    add(routePath) {\n        let middleware = Array.prototype.slice.call(arguments, 1, -1);\n        let handler = Array.prototype.slice.call(arguments, -1)[0];\n        let fullPath = this.options.root + routePath;\n        let route = new route_1.default(fullPath);\n        let routeHandler = function () {\n            // Build request parameters\n            let req = route.parse(this.path());\n            // Check if matches are found\n            if (req.match) {\n                // Match found\n                let extra = {\n                    req,\n                    route: fullPath,\n                    params: req.params,\n                    regex: req.match,\n                };\n                // Create call stack -- add middleware first, then handler\n                let stack = new stack_1.default(this, extra).enqueue(middleware.concat(handler));\n                // emit main event\n                this.emit('match', stack, req);\n                // Continue?\n                if (!stack.runCallback)\n                    return this;\n                // Previous state becomes current state\n                stack.previousState = this.state;\n                // Save new state\n                this.state = stack;\n                // Prevent this handler from being called if parent handler in stack has instructed not to propagate any more events\n                if (stack.parent() && stack.parent().propagateEvent === false) {\n                    stack.propagateEvent = false;\n                    return this;\n                }\n                // Call handler\n                stack.callback();\n            }\n            // Returns self\n            return this;\n        }.bind(this);\n        // Event name\n        let eventName = !this.options.pushState && this.options.isWindow ? 'hashchange' : 'navigate';\n        // Invoke when route is defined, and once again when app navigates\n        return routeHandler().on(eventName, routeHandler);\n    }\n    get() {\n        return this.add.apply(this, arguments);\n    }\n    trigger() {\n        return this.emit.apply(this, arguments);\n    }\n    bind() {\n        // Backwards compatibility with older versions which mimed jQuery's bind()\n        return this.on.apply(this, arguments);\n    }\n    context(context) {\n        let middleware = Array.prototype.slice.call(arguments, 1);\n        return (...args) => {\n            let value = args[0];\n            let subMiddleware = args.length > 2 ? Array.prototype.slice.call(args, 1, -1) : [];\n            let handler = Array.prototype.slice.call(args, -1)[0];\n            let prefix = context.slice(-1) !== '/' && value !== '/' && value !== '' ? context + '/' : context;\n            let path = value.substr(0, 1) !== '/' ? value : value.substr(1);\n            let pattern = prefix + path;\n            return this.add.apply(this, [pattern]\n                .concat(middleware)\n                .concat(subMiddleware)\n                .concat([handler]));\n        };\n    }\n    navigate(path, options) {\n        this.path(path, options).emit('navigate');\n        return this;\n    }\n    path(pathname, options = {}) {\n        let root = this.options.target;\n        let frag = undefined;\n        let pageName = options.title;\n        if ('string' === typeof pathname) {\n            // Set path\n            if (this.options.pushState && 'function' === typeof root.history.pushState) {\n                let state = options.state || root.history.state;\n                frag = this.options.root ? this.options.root + pathname : pathname;\n                root.history.pushState(state, pageName, frag);\n            }\n            else if (root.location) {\n                let _frag = this.options.root ? this.options.root + pathname : pathname;\n                root.location.hash = (this.options.hashBang ? '!' : '') + _frag;\n            }\n            else {\n                root.pathname = pathname || '';\n            }\n            return this;\n        }\n        else if ('undefined' === typeof pathname) {\n            // Get path\n            if (this.options.pushState) {\n                frag = root.location.pathname.replace(this.options.root, '');\n            }\n            else if (!this.options.pushState && root.location) {\n                frag = (root.location.hash) ? root.location.hash.split((this.options.hashBang ? '#!' : '#'))[1] : '';\n            }\n            else {\n                frag = root._pathname || '';\n            }\n            return frag;\n        }\n        else if (pathname === false) {\n            // Clear path\n            if (this.options.pushState && 'function' === typeof root.history.pushState) {\n                let state = options.state || root.history.state;\n                root.history.pushState(state, pageName, this.options.root || '/');\n            }\n            else if (root.location) {\n                root.location.hash = this.options.hashBang ? '!' : '';\n            }\n            return this;\n        }\n    }\n    static listen(...args) {\n        let opts;\n        let routes;\n        if (args[0] && args[1]) {\n            opts = args[0];\n            routes = args[1];\n        }\n        else {\n            routes = args[0];\n        }\n        // Return a new Grapnel instance\n        return function () {\n            // TODO: Accept multi-level routes\n            for (let key in routes) {\n                this.add.call(this, key, routes[key]);\n            }\n            return this;\n        }.call(new Grapnel(opts || {}));\n    }\n    static toString() {\n        return this.name;\n    }\n}\nGrapnel.defaults = {\n    root: '',\n    target: 'object' === typeof window ? window : {},\n    isWindow: 'object' === typeof window,\n    pushState: false,\n    hashBang: false,\n};\nexports.default = Grapnel;\n//# sourceMappingURL=grapnel.js.map\n\n\n// WEBPACK FOOTER //\n// ./es/grapnel.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/events/events.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass Route {\n    constructor(pathname) {\n        this.keys = [];\n        this.strict = false;\n        this.sensitive = false;\n        this.path = pathname;\n        this.regex = this.create();\n    }\n    parse(pathname) {\n        let match = pathname.match(this.regex);\n        let req = {\n            match,\n            params: {},\n            keys: this.keys,\n            matches: (match || []).slice(1),\n        };\n        // Build parameters\n        req.matches.forEach((value, i) => {\n            var key = this.keys[i] && this.keys[i].name ? this.keys[i].name : i;\n            // Parameter key will be its key or the iteration index. This is useful if a wildcard (*) is matched\n            req.params[key] = value ? decodeURIComponent(value) : undefined;\n        });\n        return req;\n    }\n    create() {\n        if (this.path instanceof RegExp)\n            return this.path;\n        if (this.path instanceof Array)\n            this.path = '(' + this.path.join('|') + ')';\n        // Build route RegExp\n        let newPath = this.path\n            .concat(this.strict ? '' : '/?')\n            .replace(/\\/\\(/g, '(?:/')\n            .replace(/\\+/g, '__plus__')\n            .replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?/g, (_, slash, format, key, capture, optional) => {\n            this.keys.push({\n                name: key,\n                optional: !!optional,\n            });\n            slash = slash || '';\n            return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || ((format && '([^/.]+?)') || '([^/]+?)')) + ')' + (optional || '');\n        })\n            .replace(/([\\/.])/g, '\\\\$1')\n            .replace(/__plus__/g, '(.+)')\n            .replace(/\\*/g, '(.*)');\n        return new RegExp('^' + newPath + '$', this.sensitive ? '' : 'i');\n    }\n}\nexports.default = Route;\n//# sourceMappingURL=route.js.map\n\n\n// WEBPACK FOOTER //\n// ./es/route.js","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass MiddlewareStack {\n    constructor(router, extendObj) {\n        this.runCallback = true;\n        this.callbackRan = true;\n        this.propagateEvent = true;\n        this.stack = MiddlewareStack.global.slice(0);\n        this.router = router;\n        this.value = router.path();\n        Object.assign(this, extendObj);\n        return this;\n    }\n    preventDefault() {\n        this.runCallback = false;\n    }\n    stopPropagation() {\n        this.propagateEvent = false;\n    }\n    parent() {\n        let hasParentEvents = !!(this.previousState && this.previousState.value && this.previousState.value == this.value);\n        return hasParentEvents ? this.previousState : false;\n    }\n    callback() {\n        this.callbackRan = true;\n        this.timeStamp = Date.now();\n        this.next();\n    }\n    enqueue(handler, atIndex) {\n        let handlers = !Array.isArray(handler) ? [handler] : atIndex < handler.length ? handler.reverse() : handler;\n        while (handlers.length) {\n            this.stack.splice(atIndex || this.stack.length + 1, 0, handlers.shift());\n        }\n        return this;\n    }\n    next() {\n        return this.stack.shift().call(this.router, this.req, this, () => this.next());\n    }\n}\nMiddlewareStack.global = [];\nexports.default = MiddlewareStack;\n//# sourceMappingURL=stack.js.map\n\n\n// WEBPACK FOOTER //\n// ./es/stack.js"],"sourceRoot":""}